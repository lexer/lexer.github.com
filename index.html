<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Geo location test</title>
<link href="styles.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
<script type="text/javascript">

$(function(){
  var mapOptions = {
    zoom: 16,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map($("#map_canvas")[0], mapOptions);

  var watchPositionId = navigator.geolocation.getCurrentPosition(
    function(position) {
      $("#lat").text(position.coords.latitude);
      $("#lng").text(position.coords.longitude);
      $("#heading").text(position.coords.heading);
      $("#speed").text(position.coords.speed);

      var latlng = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
      var marker = new google.maps.Marker({
        position: latlng
      }); 

      marker.setMap(map);  
      map.setCenter(latlng);
    },

    function(err) {
    },
    {});
});
</script>
</head>
<body>
  <div id="map_canvas"></div>
  <div id="info">
    <p id="lng"></p>
    <p id="lat"></p>
    <p id="heading"></p>
    <p id="speed"></p>
  </div>
</body>
</html>
